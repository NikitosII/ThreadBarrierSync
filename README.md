# Hash Table with Binary Trees
![C](https://img.shields.io/badge/C-blue.svg)

Проект демонстрирует использование потоков и барьеров в языке программирования C. Программа создает два потока, которые выполняют свои задачи и синхронизируются с помощью барьера. Основной поток ожидает нажатия клавиши для завершения работы потоков.

## Содержание

- [Описание кода](#описание-кода)
- [Использование](#использование)
  - [Пример использования](#пример-использования)
- [Структура проекта](#структура-проекта)

## Описание кода

**ThreadBarrierSync.c**

Глобальные переменные:
  - pthread_barrier_t barrier: Барьер для синхронизации потоков.
    
Функции потоков:
  - func1: Функция первого потока. Выводит сообщение "proc1 completed" и ожидает, пока флаг не станет равным 1. Затем ожидает на барьере и завершает выполнение с кодом 1.
  - func2: Функция второго потока. Выводит сообщение "proc2 completed" и ожидает, пока флаг не станет равным 1. Затем ожидает на барьере и завершает выполнение с кодом 2.
  
Основная функция main:
  1) Инициализирует барьер для 3 потоков (2 потока + основной поток).
  2) Создает два потока, передавая им флаги.
  3) Ожидает нажатия клавиши для завершения работы потоков.
  4) Устанавливает флаги в 1, чтобы потоки завершили выполнение.
  5) Ожидает на барьере и присоединяет потоки, выводя их статусы завершения.
  6) Уничтожает барьер.
  
**ThreadBarrierSync.sh**
  1) Компилирует ThreadBarrierSync.c с помощью gcc с флагом -pthread для поддержки потоков.
  2) Проверяет успешность компиляции.
  3) Запускает скомпилированный исполняемый файл.

## Использование

1. Склонируйте репозиторий:
    ```sh
    git clone <URL репозитория>
    ```
2. Перейдите в директорию проекта:
    ```sh
    cd <имя директории проекта>
    ```
3. Сделайте скрипт исполняемым:
    ```sh
    chmod +x ThreadBarrierSync.sh
    ```
4. Запустите скрипт:
    ```sh
    ./ThreadBarrierSync.sh
    ```

### Пример использования

1. Скомпилируйте и запустите программу:
    ```sh
    ./ThreadBarrierSync.sh
    ```
2. Вывод программы:
    ```
    proc1 completed
    proc2 completed
    proc1 completed
    proc2 completed
    Press key to stop...
    Thread 1 status 1
    Thread 2 status 2
    ```

## Структура проекта

- ThreadBarrierSync.c: Основной файл программы, содержащий реализацию многопоточности с использованием барьеров.
- ThreadBarrierSync.sh: Скрипт для компиляции и запуска программы.
